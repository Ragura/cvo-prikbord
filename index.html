<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Digitaal prikbord</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Reenie+Beanie" rel="stylesheet">
    <link rel="stylesheet" href="prikbord.css">
</head>
<body>
    <div id="app">
        <!-- Zoekbalk -->
        <div :class="['zoeken', zoekenOpen ? 'zoeken-open' : '']" @click="zoekenOpen = !zoekenOpen">
            <svg class="icon-search" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path d="M11,22A10,10,0,1,1,21,12,10,10,0,0,1,11,22ZM11,4a8,8,0,1,0,8,8A8,8,0,0,0,11,4Z"/>
                    <path d="M28,29.74a3,3,0,0,1-1.93-.7L19.94,23.9a3,3,0,0,1,3.86-4.6l6.13,5.14A3,3,0,0,1,28,29.74ZM21.87,20.6h-.09a1,1,0,0,0-.55,1.77l6.13,5.14a1,1,0,0,0,1.41-.12,1,1,0,0,0,.23-.73,1,1,0,0,0-.36-.68l-6.13-5.15A1,1,0,0,0,21.87,20.6Z"/>
                    <path d="M20,21a1,1,0,0,1-.64-.23L17,18.82a1,1,0,0,1,1.28-1.54l2.34,1.95a1,1,0,0,1,.13,1.41A1,1,0,0,1,20,21Z"/>
                </g>
            </svg>
            <transition name="move">
                <input type="text" v-show="zoekenOpen" v-model="zoekTerm" @click.stop>
            </transition>
            <transition name="move">
                <svg class="icon-archive" v-show="zoekenOpen" :style="{opacity: toonArchief ? 1 : 0.4}" @click.stop="toonArchief = !toonArchief" version="1.1" viewBox="0 0 50 50" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g>
                        <path d="M3,49h44V15h2V1H1v14h2V49z M45,47H5V15h40V47z M3,3h44v10H3V3z"/>
                        <path d="M15,27h20c2.206,0,4-1.794,4-4s-1.794-4-4-4H15c-2.206,0-4,1.794-4,4S12.794,27,15,27z M15,21h20c1.103,0,2,0.897,2,2   s-0.897,2-2,2H15c-1.103,0-2-0.897-2-2S13.897,21,15,21z"/>
                    </g>
                </svg>
            </transition>
            <transition name="move">
                <svg v-show="zoekenOpen" :style="{opacity: toonBelangrijk ? 1 : 0.4}" @click.stop="toonBelangrijk = !toonBelangrijk" class="icon-star"  version="1.1" viewBox="0 0 20 21"  xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                        <g fill="#000000" transform="translate(-296.000000, -422.000000)">
                            <g transform="translate(296.000000, 422.500000)">
                                <path d="M10,15.273 L16.18,19 L14.545,11.971 L20,7.244 L12.809,6.627 L10,0 L7.191,6.627 L0,7.244 L5.455,11.971 L3.82,19 L10,15.273 Z" id="Shape"/>
                            </g>
                        </g>
                    </g>
                </svg>
            </transition>
        </div>

        <div class="container">

            <!-- Nieuw briefje -->
            <div class="briefje" :style="setStijlBriefje(nieuwBriefje)">
                <div class="pin-container">
                    <div class="pin" @click="nieuwBriefje.kleurModus = !nieuwBriefje.kleurModus" :style="pinStyle(nieuwBriefje.kleurPin)"></div>

                    <transition name="move">
                        <input type="range" v-show="nieuwBriefje.kleurModus" min="0" max="360" v-model="nieuwBriefje.kleurPin">
                    </transition>
                </div>
                
                <div v-show="nieuwBriefje.actieveSetting === ''" class="inhoud-container">
                    <div class="titel-container">
                        <input type="text" class="titel" v-model="nieuwBriefje.titel" placeholder="Titel">
                        <div class="lijn" :style="{boxShadow: '0px 2px 0px 0px ' + veranderHSL(nieuwBriefje.kleurTekst, 1)}">{{ nieuwBriefje.titel }}</div>
                    </div>
    
                    <textarea rows="3" class="inhoud" v-model="nieuwBriefje.inhoud" maxlength="60" @keydown.enter="textAreaEnter" placeholder="Beschrijving..."></textarea>
                </div>

                <div v-show="nieuwBriefje.actieveSetting === 'kleuren'" class="settings-container">
                    <div class="settings-titel">
                        Kleuren
                    </div>
                    <div class="settings-kleuren">
                        <label>Briefje:</label>
                        <div class="kleuren-lijst">
                            <div v-for="kleur of kleurenBriefje" @click="nieuwBriefje.kleurBriefje = kleur" class="kleur-box" :style="{backgroundColor: kleur.briefje}"></div>
                        </div>

                        <label>Tekst:</label>
                        <div class="kleuren-lijst">
                            <div v-for="kleur of kleurenTekst" class="kleur-box" :style="{backgroundColor: kleur}" @click="nieuwBriefje.kleurTekst = kleur"></div>
                            <div class="kleur-box kleur-box-random" :style="{backgroundColor: willekeurigeKleur}" @click="setWillekeurigeKleur(nieuwBriefje)">?</div>
                        </div>
                    </div>
                </div>

                <div v-show="nieuwBriefje.actieveSetting === 'datum'" class="settings-container">
                    <div class="settings-titel">
                        Datum
                    </div>
                    <div class="settings-datum">
                        <label for="dag">Dag:</label>
                        <select id="dag"
                                v-model="nieuwBriefje.datum.dag"
                                :style="{backgroundColor: veranderHSL(nieuwBriefje.kleurBriefje.briefje, 4), color: nieuwBriefje.kleurTekst}"
                                @change="nieuwBriefje.datum.jaar = datumInWelkJaar(nieuwBriefje.datum.dag, nieuwBriefje.datum.maand)">
                            <option v-for="dag of getDagenInMaand(nieuwBriefje.datum.maand)" :value="dag">{{ dag }}</option>
                        </select>

                        <label for="maand">Maand:</label>
                        <select id="maand"
                                v-model="nieuwBriefje.datum.maand"
                                :style="{backgroundColor: veranderHSL(nieuwBriefje.kleurBriefje.briefje, 4), color: nieuwBriefje.kleurTekst}"
                                @change="nieuwBriefje.datum.jaar = datumInWelkJaar(nieuwBriefje.datum.dag, nieuwBriefje.datum.maand)">
                            <option v-for="maand of maanden" :value="maand.volgorde">{{ maand.naam }}</option>
                        </select>
                    </div>
                </div>

                <div v-show="nieuwBriefje.actieveSetting === 'tags'" class="settings-container">
                    <div class="settings-titel">
                        Tags
                    </div>
                    <div class="settings-tags">
                        <span v-for="tag of nieuwBriefje.tags" class="tag" :style="{backgroundColor: veranderHSL(nieuwBriefje.kleurBriefje.briefje, -20), color: nieuwBriefje.kleurTekst}">
                            <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" v-show="nieuwBriefje.actieveSetting" @click="tagVerwijderen(nieuwBriefje, tag)">
                                <path d="M8.25,0,32,23.75,55.75,0,64,8.25,40.25,32,64,55.75,55.75,64,32,40.25,8.25,64,0,55.75,23.75,32,0,8.25Z"/>
                            </svg>
                            {{ tag }}
                        </span>
                        <input type="text" ref="tagInputNieuwBriefje" :style="{backgroundColor: veranderHSL(nieuwBriefje.kleurBriefje.briefje, 4), color: nieuwBriefje.kleurTekst}"
                               @keydown="verwerkTagInput($event, nieuwBriefje)"
                        >
                    </div>
                </div>

                <div v-show="nieuwBriefje.actieveSetting === 'afbeelding'" class="settings-container">
                        <div class="afbeelding-container">
                            <label for="afbeelding" class="afbeelding-label" :style="{backgroundImage: `url(${nieuwBriefje.afbeelding})`}">
                                <!-- <img :src="nieuwBriefje.afbeelding" alt="Afbeelding"> -->
                                <input type="file" class="afbeelding-input" @change="afbeeldingToevoegen($event, nieuwBriefje)">
                                {{ nieuwBriefje.afbeelding ? "" : "Klik of sleep een afbeelding" }}
                            </label>
                            
                        </div>
                    </div>

                <div class="controls-container">
                    <div class="controls" @click="toggleSettings(nieuwBriefje)">
                        <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" v-show="!nieuwBriefje.settingsMenu && !nieuwBriefje.actieveSetting">
                            <circle cx="12" cy="12" fill="none" r="3" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2"/>
                        </svg>

                        <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 0 32 32" width="32" class="icon-back" v-show="nieuwBriefje.settingsMenu && !nieuwBriefje.actieveSetting">
                            <path d="M17 7.5c-4.9 0-9.3 2.4-12 6l-5-5v16h16l-5.4-5.4c1.4-4.4 5.6-7.6 10.4-7.6 6.1 0 11 4.9 11 11C32 14.2 25.3 7.5 17 7.5z"/>
                        </svg>
                        
                        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" v-show="nieuwBriefje.actieveSetting">
                            <path d="M8.25,0,32,23.75,55.75,0,64,8.25,40.25,32,64,55.75,55.75,64,32,40.25,8.25,64,0,55.75,23.75,32,0,8.25Z"/>
                        </svg>
                    </div>

                    <!-- SETTINGS UIT -->
                    <div class="datum" v-show="!nieuwBriefje.settingsMenu" @click="nieuwBriefje.actieveSetting = 'datum'">
                        <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="icon-date">
                            <g data-name="68.calendar" id="_68.calendar">
                                <rect class="cls-1" height="20" rx="3" ry="3" width="22" x="1" y="3"/>
                                <line class="cls-1" x1="1" x2="23" y1="9" y2="9"/>
                                <line class="cls-1" x1="12" x2="12" y1="5" y2="1"/>
                                <line class="cls-1" x1="6" x2="6" y1="5" y2="1"/>
                                <line class="cls-1" x1="18" x2="18" y1="5" y2="1"/>
                                <line class="cls-1" x1="5" x2="7" y1="14" y2="14"/>
                                <line class="cls-1" x1="11" x2="13" y1="14" y2="14"/>
                                <line class="cls-1" x1="17" x2="19" y1="14" y2="14"/>
                                <line class="cls-1" x1="5" x2="7" y1="18" y2="18"/>
                                <line class="cls-1" x1="11" x2="13" y1="18" y2="18"/>
                                <line class="cls-1" x1="17" x2="19" y1="18" y2="18"/>
                            </g>
                        </svg>
                    </div>

                    <div class="belangrijk" v-show="!nieuwBriefje.settingsMenu" @click="nieuwBriefje.belangrijk = !nieuwBriefje.belangrijk">
                        <svg v-show="!nieuwBriefje.belangrijk" class="icon-star" version="1.1" viewBox="0 0 20 21" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                <g fill="#000000" transform="translate(-380.000000, -422.000000)">
                                    <g transform="translate(380.000000, 422.500000)">
                                        <path d="M20,7.244 L12.809,6.627 L10,0 L7.191,6.627 L0,7.244 L5.455,11.971 L3.82,19 L10,15.272 L16.18,19 L14.545,11.971 L20,7.244 L20,7.244 Z M10,13.396 L6.237,15.666 L7.233,11.385 L3.91,8.507 L8.29,8.131 L10,4.095 L11.71,8.131 L16.09,8.507 L12.768,11.385 L13.764,15.666 L10,13.396 L10,13.396 Z" id="Shape"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        <svg v-show="nieuwBriefje.belangrijk" class="icon-star" version="1.1" viewBox="0 0 20 21" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                <g fill="#000000" transform="translate(-296.000000, -422.000000)">
                                    <g transform="translate(296.000000, 422.500000)">
                                        <path d="M10,15.273 L16.18,19 L14.545,11.971 L20,7.244 L12.809,6.627 L10,0 L7.191,6.627 L0,7.244 L5.455,11.971 L3.82,19 L10,15.273 Z" id="Shape"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </div>

                    <div class="add-delete-archive" v-show="!nieuwBriefje.settingsMenu" @click="verwerkActie(nieuwBriefje)">
                        <svg class="icon-add" v-show="!nieuwBriefje.status" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <g>
                                <path d="M16,28.53a1,1,0,0,1-.71-.29L3.76,16.71a1,1,0,0,1,0-1.42l1.52-1.51a6.06,6.06,0,0,1,6.37-1.43l5.41-5.41L16.12,6a1,1,0,0,1,0-1.41l3.29-3.3a1,1,0,0,1,1.41,0l9.89,9.89a1,1,0,0,1,0,1.41l-3.3,3.29a1,1,0,0,1-1.41,0l-.94-.94-5.41,5.41a6.08,6.08,0,0,1-1.43,6.37l-1.51,1.52A1,1,0,0,1,16,28.53ZM5.88,16,16,26.12l.81-.81a4.12,4.12,0,0,0,.77-4.75,1,1,0,0,1,.18-1.15l6.59-6.59a1,1,0,0,1,1.42,0l.94.94,1.88-1.88L20.12,3.41,18.24,5.29l.94.94a1,1,0,0,1,0,1.42l-6.59,6.59a1,1,0,0,1-1.15.18,4.12,4.12,0,0,0-4.75.77Z"/>
                                <path d="M2,31a1,1,0,0,1-.71-.29,1,1,0,0,1,0-1.42l8.24-8.23a1,1,0,0,1,1.41,1.41L2.71,30.71A1,1,0,0,1,2,31Z"/>
                                <path d="M25.06,14.53a1,1,0,0,1-.71-.29l-2.47-2.47a1,1,0,1,1,1.42-1.42l2.47,2.47a1,1,0,0,1,0,1.42A1,1,0,0,1,25.06,14.53Z"/>
                            </g>
                        </svg>
                    </div>


                    <!-- SETTINGS AAN -->
                    <div class="kleurbriefje" v-show="nieuwBriefje.settingsMenu" @click="nieuwBriefje.actieveSetting='kleuren'">
                        <svg class="icon-color" enable-background="new 0 0 800 800" version="1.1" viewBox="0 0 800 800" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g>
                                <path d="M410.7,676.3c87.5,0,147.2-24.5,163.2-67.2c17.1-44.8,5.3-72.5-3.2-91.7c-6.4-13.9-7.5-18.1-2.1-30.9   c5.3-13.9,12.8-20.3,39.5-20.3c8.5,0,17.1,1.1,27.7,1.1c10.7,1.1,21.3,1.1,32,1.1c19.2,0,77.9,0,100.3-68.3   c13.9-44.8,6.4-89.6-24.5-131.2C681.6,186.7,538.7,128,394.7,128C188.8,128,21.3,246.4,21.3,391.5   C21.3,587.7,248.5,676.3,410.7,676.3z M394.7,192c120.5,0,247.5,50.1,295.5,116.3c18.1,24.5,23.5,50.1,14.9,73.6   c-4.3,17.1-11.7,23.5-38.4,23.5c-8.5,0-17.1-1.1-26.7-1.1c-10.7-1.1-21.3-1.1-32-1.1c-18.1,0-73.6,0-98.1,59.7   c-16,38.4-4.3,64,3.2,81.1c6.4,14.9,9.6,22.4,2.1,42.7c-3.2,8.5-34.1,26.7-104.5,26.7C275.2,612.3,85.3,544,85.3,391.5   C85.3,281.6,224,192,394.7,192z"/>
                                <path d="M325.3,432c0,46.9,38.4,85.3,85.3,85.3S496,478.9,496,432s-38.4-85.3-85.3-85.3S325.3,385.1,325.3,432z M410.7,410.7   c11.7,0,21.3,9.6,21.3,21.3c0,11.7-9.6,21.3-21.3,21.3c-11.7,0-21.3-9.6-21.3-21.3C389.3,420.3,398.9,410.7,410.7,410.7z"/>
                                <path d="M247.5,484.3c-6.4-33.1-28.8-37.3-38.4-37.3c-2.1,0-4.3,0-6.4,1.1c-19.2,3.2-35.2,19.2-37.3,38.4   c-3.2,17.1,5.3,33.1,20.3,40.5c9.6,5.3,20.3,7.5,29.9,7.5c13.9,0,25.6-6.4,32-17.1C251.7,507.7,251.7,496,247.5,484.3L247.5,484.3z   "/>
                                <path d="M165.3,424.5c2.1-1.1,3.2-1.1,4.3-2.1c25.6-6.4,28.8-24.5,29.9-33.1c2.1-25.6-21.3-35.2-32-39.5l-1.1-1.1   c-5.3-2.1-10.7-3.2-16-3.2c-14.9,0-27.7,7.5-35.2,20.3c-7.5,12.8-8.5,28.8-1.1,42.7c6.4,12.8,18.1,20.3,32,20.3   C154.7,428.8,161.1,425.6,165.3,424.5z"/>
                                <path d="M215.5,338.1c10.7,0,19.2-5.3,23.5-8.5c16-6.4,25.6-21.3,25.6-37.3c0-12.8-8.5-29.9-29.9-36.3   c-19.2-5.3-40.5,3.2-51.2,20.3c-7.5,12.8-7.5,28.8,0,42.7C194.1,337.1,210.1,338.1,215.5,338.1z"/>
                                <path d="M327.5,295.5c1.1,0,2.1,0,4.3,0c1.1,0,2.1,0,3.2,0c18.1,0,34.1-12.8,37.3-30.9c3.2-19.2-9.6-37.3-27.7-43.7   c-5.3-1.1-9.6-2.1-14.9-2.1c-18.1,0-38.4,12.8-39.5,40.5c0,9.6,3.2,18.1,9.6,25.6C309.3,295.5,322.1,295.5,327.5,295.5z"/>
                                <path d="M440.5,294.4c2.1,0,4.3,0,7.5-1.1c16,0,29.9-9.6,35.2-24.5c5.3-14.9,0-32-13.9-41.6c-7.5-5.3-16-8.5-24.5-8.5   c-20.3,0-37.3,14.9-39.5,36.3c-2.1,14.9,4.3,23.5,8.5,28.8C418.1,286.9,426.7,294.4,440.5,294.4z"/>
                                <path d="M546.1,323.2c4.3,2.1,9.6,3.2,14.9,3.2c14.9,0,28.8-10.7,33.1-25.6c5.3-18.1-3.2-38.4-19.2-48c-6.4-3.2-12.8-5.3-20.3-5.3   c-12.8,0-24.5,6.4-32,17.1c-6.4,9.6-8.5,23.5-4.3,34.1C524.8,316.8,539.7,321.1,546.1,323.2z"/>
                            </g>
                        </svg>
                    </div>
                    
                    <div class="tags" v-show="nieuwBriefje.settingsMenu" @click="nieuwBriefje.actieveSetting='tags'">
                        <svg class="icon-tags" enable-background="new 0 0 48 48" height="48px" version="1.1" viewBox="0 0 48 48" width="48px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <path clip-rule="evenodd" d="M43,40H5c-2.209,0-4-1.791-4-4V12c0-2.209,1.791-4,4-4h38c2.209,0,4,1.791,4,4v24  C47,38.209,45.209,40,43,40z M3,21h42v-4H3V21z M45,12c0-1.104-0.896-2-2-2H5c-1.104,0-2,0.896-2,2v3h42V12z M45,23H3v13  c0,1.104,0.896,2,2,2h38c1.104,0,2-0.896,2-2V23z M26,29h-4c-0.553,0-1-0.447-1-1c0-0.552,0.447-1,1-1h4c0.553,0,1,0.448,1,1  C27,28.553,26.553,29,26,29z M17,29H8c-0.553,0-1-0.447-1-1c0-0.552,0.447-1,1-1h9c0.553,0,1,0.448,1,1C18,28.553,17.553,29,17,29z   M8,32h6c0.553,0,1,0.448,1,1c0,0.553-0.447,1-1,1H8c-0.553,0-1-0.447-1-1C7,32.448,7.447,32,8,32z" fill-rule="evenodd"/>
                        </svg>
                    </div>

                    <div class="afbeelding" v-show="nieuwBriefje.settingsMenu" @click="nieuwBriefje.actieveSetting='afbeelding'">
                        <svg class="icon-image" enable-background="new 0 0 48 48" height="48px" version="1.1" viewBox="0 0 48 48" width="48px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <path clip-rule="evenodd" d="M43,41H5c-2.209,0-4-1.791-4-4V11c0-2.209,1.791-4,4-4h38c2.209,0,4,1.791,4,4v26  C47,39.209,45.209,41,43,41z M45,11c0-1.104-0.896-2-2-2H5c-1.104,0-2,0.896-2,2v26c0,1.104,0.896,2,2,2h38c1.104,0,2-0.896,2-2V11z   M41.334,34.715L35,28.381L31.381,32l3.334,3.334c0.381,0.381,0.381,0.999,0,1.381c-0.382,0.381-1,0.381-1.381,0L19,22.381  L6.666,34.715c-0.381,0.381-0.999,0.381-1.381,0c-0.381-0.382-0.381-1,0-1.381L18.19,20.429c0.032-0.048,0.053-0.101,0.095-0.144  c0.197-0.197,0.457-0.287,0.715-0.281c0.258-0.006,0.518,0.084,0.715,0.281c0.042,0.043,0.062,0.096,0.095,0.144L30,30.619  l4.19-4.19c0.033-0.047,0.053-0.101,0.095-0.144c0.197-0.196,0.457-0.287,0.715-0.281c0.258-0.006,0.518,0.085,0.715,0.281  c0.042,0.043,0.062,0.097,0.095,0.144l6.905,6.905c0.381,0.381,0.381,0.999,0,1.381C42.333,35.096,41.715,35.096,41.334,34.715z   M29,19c-2.209,0-4-1.791-4-4s1.791-4,4-4s4,1.791,4,4S31.209,19,29,19z M29,13c-1.104,0-2,0.896-2,2s0.896,2,2,2s2-0.896,2-2  S30.104,13,29,13z" fill-rule="evenodd"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Opgeslagen briefjes -->
            <div class="briefje" v-for="briefje, index of sorteerBriefjes" :style="setStijlBriefje(briefje)">
                <div class="pin-container">
                    <div class="pin" @click="briefje.kleurModus = !briefje.kleurModus" :style="pinStyle(briefje.kleurPin)"></div>
    
                    <transition name="move">
                        <input type="range" v-show="briefje.kleurModus" min="0" max="360" v-model="briefje.kleurPin">
                    </transition>
                </div>
                
                <div v-show="briefje.actieveSetting === ''" class="inhoud-container">
                    <div class="titel-container">
                        <input type="text" class="titel" v-model="briefje.titel" placeholder="Titel">
                        <div class="lijn" :style="{boxShadow: '0px 2px 0px 0px ' + veranderHSL(briefje.kleurTekst, 1)}">{{ briefje.titel }}</div>
                    </div>
    
                    <textarea rows="3" class="inhoud" v-model="briefje.inhoud" maxlength="60" @keydown.enter="textAreaEnter" placeholder="Beschrijving..."></textarea>
                </div>
    
                <div v-show="briefje.actieveSetting === 'kleuren'" class="settings-container">
                    <div class="settings-titel">
                        Kleuren
                    </div>
                    <div class="settings-kleuren">
                        <label>Briefje:</label>
                        <div class="kleuren-lijst">
                            <div v-for="kleur of kleurenBriefje" @click="briefje.kleurBriefje = kleur" class="kleur-box" :style="{backgroundColor: kleur.briefje}"></div>
                        </div>
    
                        <label>Tekst:</label>
                        <div class="kleuren-lijst">
                            <div v-for="kleur of kleurenTekst" class="kleur-box" :style="{backgroundColor: kleur}" @click="briefje.kleurTekst = kleur"></div>
                            <div class="kleur-box kleur-box-random" :style="{backgroundColor: willekeurigeKleur}" @click="setWillekeurigeKleur(briefje)">?</div>
                        </div>
                    </div>
                </div>
    
                <div v-show="briefje.actieveSetting === 'datum'" class="settings-container">
                    <div class="settings-titel">
                        Datum
                    </div>
                    <div class="settings-datum">
                        <label for="dag">Dag:</label>
                        <select id="dag"
                                v-model="briefje.datum.dag"
                                :style="{backgroundColor: veranderHSL(briefje.kleurBriefje.briefje, 4), color: briefje.kleurTekst}"
                                @change="briefje.datum.jaar = datumInWelkJaar(briefje.datum.dag, briefje.datum.maand)">
                            <option v-for="dag of getDagenInMaand(briefje.datum.maand)" :value="dag">{{ dag }}</option>
                        </select>

                        <label for="maand">Maand:</label>
                        <select id="maand"
                                v-model="briefje.datum.maand"
                                :style="{backgroundColor: veranderHSL(briefje.kleurBriefje.briefje, 4), color: briefje.kleurTekst}"
                                @change="briefje.datum.jaar = datumInWelkJaar(briefje.datum.dag, briefje.datum.maand)">
                            <option v-for="maand of maanden" :value="maand.volgorde">{{ maand.naam }}</option>
                        </select>
                    </div>
                </div>
    
                <div v-show="briefje.actieveSetting === 'tags'" class="settings-container">
                    <div class="settings-titel">
                        Tags
                    </div>
                    <div class="settings-tags">
                        <span v-for="tag of briefje.tags" class="tag" :style="{backgroundColor: veranderHSL(briefje.kleurBriefje.briefje, -20), color: briefje.kleurTekst}">
                            <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" v-show="briefje.actieveSetting" @click="tagVerwijderen(briefje, tag, index)">
                                <path d="M8.25,0,32,23.75,55.75,0,64,8.25,40.25,32,64,55.75,55.75,64,32,40.25,8.25,64,0,55.75,23.75,32,0,8.25Z"/>
                            </svg>
                            {{ tag }}
                        </span>
                        <input type="text" ref="tagInputBriefje" :style="{backgroundColor: veranderHSL(briefje.kleurBriefje.briefje, 4), color: briefje.kleurTekst}"
                               @keydown="verwerkTagInput($event, briefje)"
                        >
                    </div>
                </div>
    
                <div v-show="briefje.actieveSetting === 'afbeelding'" class="settings-container">
                        <div class="afbeelding-container">
                            <label for="afbeelding" class="afbeelding-label" :style="{backgroundImage: `url(${briefje.afbeelding})`}">
                                <!-- <img :src="briefje.afbeelding" alt="Afbeelding"> -->
                                <input type="file" class="afbeelding-input" @change="afbeeldingToevoegen($event, briefje)">
                                {{ briefje.afbeelding ? "" : "Klik of sleep een afbeelding" }}
                            </label>
                        </div>
                    </div>
    
                <div class="controls-container">
                    <div class="controls" @click="toggleSettings(briefje)">
                        <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" v-show="!briefje.settingsMenu && !briefje.actieveSetting">
                            <circle cx="12" cy="12" fill="none" r="3" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2"/>
                        </svg>
    
                        <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 0 32 32" width="32" class="icon-back" v-show="briefje.settingsMenu && !briefje.actieveSetting">
                            <path d="M17 7.5c-4.9 0-9.3 2.4-12 6l-5-5v16h16l-5.4-5.4c1.4-4.4 5.6-7.6 10.4-7.6 6.1 0 11 4.9 11 11C32 14.2 25.3 7.5 17 7.5z"/>
                        </svg>
                        
                        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" v-show="briefje.actieveSetting">
                            <path d="M8.25,0,32,23.75,55.75,0,64,8.25,40.25,32,64,55.75,55.75,64,32,40.25,8.25,64,0,55.75,23.75,32,0,8.25Z"/>
                        </svg>
                    </div>
    
                    <!-- SETTINGS UIT -->
                    <div class="datum" v-show="!briefje.settingsMenu" @click="briefje.actieveSetting = 'datum'">
                        <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="icon-date">
                            <g data-name="68.calendar" id="_68.calendar">
                                <rect class="cls-1" height="20" rx="3" ry="3" width="22" x="1" y="3"/>
                                <line class="cls-1" x1="1" x2="23" y1="9" y2="9"/>
                                <line class="cls-1" x1="12" x2="12" y1="5" y2="1"/>
                                <line class="cls-1" x1="6" x2="6" y1="5" y2="1"/>
                                <line class="cls-1" x1="18" x2="18" y1="5" y2="1"/>
                                <line class="cls-1" x1="5" x2="7" y1="14" y2="14"/>
                                <line class="cls-1" x1="11" x2="13" y1="14" y2="14"/>
                                <line class="cls-1" x1="17" x2="19" y1="14" y2="14"/>
                                <line class="cls-1" x1="5" x2="7" y1="18" y2="18"/>
                                <line class="cls-1" x1="11" x2="13" y1="18" y2="18"/>
                                <line class="cls-1" x1="17" x2="19" y1="18" y2="18"/>
                            </g>
                        </svg>
                    </div>
    
                    <div class="belangrijk" v-show="!briefje.settingsMenu" @click="briefje.belangrijk = !briefje.belangrijk">
                        <svg v-show="!briefje.belangrijk" class="icon-star" height="21px" version="1.1" viewBox="0 0 20 21" width="20px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                <g fill="#000000" transform="translate(-380.000000, -422.000000)">
                                    <g transform="translate(380.000000, 422.500000)">
                                        <path d="M20,7.244 L12.809,6.627 L10,0 L7.191,6.627 L0,7.244 L5.455,11.971 L3.82,19 L10,15.272 L16.18,19 L14.545,11.971 L20,7.244 L20,7.244 Z M10,13.396 L6.237,15.666 L7.233,11.385 L3.91,8.507 L8.29,8.131 L10,4.095 L11.71,8.131 L16.09,8.507 L12.768,11.385 L13.764,15.666 L10,13.396 L10,13.396 Z" id="Shape"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        <svg v-show="briefje.belangrijk" class="icon-star" height="21px" version="1.1" viewBox="0 0 20 21" width="20px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                <g fill="#000000" transform="translate(-296.000000, -422.000000)">
                                    <g transform="translate(296.000000, 422.500000)">
                                        <path d="M10,15.273 L16.18,19 L14.545,11.971 L20,7.244 L12.809,6.627 L10,0 L7.191,6.627 L0,7.244 L5.455,11.971 L3.82,19 L10,15.273 Z" id="Shape"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </div>
    
                    <div class="add-delete-archive" v-show="!briefje.settingsMenu" @click="verwerkActie(briefje)">
                        <svg class="icon-add" v-show="!briefje.status" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <g>
                                <path d="M16,28.53a1,1,0,0,1-.71-.29L3.76,16.71a1,1,0,0,1,0-1.42l1.52-1.51a6.06,6.06,0,0,1,6.37-1.43l5.41-5.41L16.12,6a1,1,0,0,1,0-1.41l3.29-3.3a1,1,0,0,1,1.41,0l9.89,9.89a1,1,0,0,1,0,1.41l-3.3,3.29a1,1,0,0,1-1.41,0l-.94-.94-5.41,5.41a6.08,6.08,0,0,1-1.43,6.37l-1.51,1.52A1,1,0,0,1,16,28.53ZM5.88,16,16,26.12l.81-.81a4.12,4.12,0,0,0,.77-4.75,1,1,0,0,1,.18-1.15l6.59-6.59a1,1,0,0,1,1.42,0l.94.94,1.88-1.88L20.12,3.41,18.24,5.29l.94.94a1,1,0,0,1,0,1.42l-6.59,6.59a1,1,0,0,1-1.15.18,4.12,4.12,0,0,0-4.75.77Z"/>
                                <path d="M2,31a1,1,0,0,1-.71-.29,1,1,0,0,1,0-1.42l8.24-8.23a1,1,0,0,1,1.41,1.41L2.71,30.71A1,1,0,0,1,2,31Z"/>
                                <path d="M25.06,14.53a1,1,0,0,1-.71-.29l-2.47-2.47a1,1,0,1,1,1.42-1.42l2.47,2.47a1,1,0,0,1,0,1.42A1,1,0,0,1,25.06,14.53Z"/>
                            </g>
                        </svg>
                        <svg class="icon-archive" v-show="briefje.status === 'nieuw'" version="1.1" viewBox="0 0 50 50" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g>
                                <path d="M3,49h44V15h2V1H1v14h2V49z M45,47H5V15h40V47z M3,3h44v10H3V3z"/>
                                <path d="M15,27h20c2.206,0,4-1.794,4-4s-1.794-4-4-4H15c-2.206,0-4,1.794-4,4S12.794,27,15,27z M15,21h20c1.103,0,2,0.897,2,2   s-0.897,2-2,2H15c-1.103,0-2-0.897-2-2S13.897,21,15,21z"/>
                            </g>
                        </svg>
                        <svg fill="none" class="icon-delete" v-show="briefje.status === 'archief'" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <g>
                                <path d="M24,31H8a3,3,0,0,1-3-3V9A1,1,0,0,1,7,9V28a1,1,0,0,0,1,1H24a1,1,0,0,0,1-1V9a1,1,0,0,1,2,0V28A3,3,0,0,1,24,31Z"/>
                                <path d="M28,7H4A1,1,0,0,1,4,5H28a1,1,0,0,1,0,2Z"/>
                                <path d="M20,7a1,1,0,0,1-1-1V3H13V6a1,1,0,0,1-2,0V2a1,1,0,0,1,1-1h8a1,1,0,0,1,1,1V6A1,1,0,0,1,20,7Z"/>
                                <path d="M16,26a1,1,0,0,1-1-1V11a1,1,0,0,1,2,0V25A1,1,0,0,1,16,26Z"/>
                                <path d="M21,24a1,1,0,0,1-1-1V13a1,1,0,0,1,2,0V23A1,1,0,0,1,21,24Z"/>
                                <path d="M11,24a1,1,0,0,1-1-1V13a1,1,0,0,1,2,0V23A1,1,0,0,1,11,24Z"/>
                            </g>
                        </svg>
                    </div>
    
    
                    <!-- SETTINGS AAN -->
                    <div class="kleurbriefje" v-show="briefje.settingsMenu" @click="briefje.actieveSetting='kleuren'">
                        <svg class="icon-color" enable-background="new 0 0 800 800" version="1.1" viewBox="0 0 800 800" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g>
                                <path d="M410.7,676.3c87.5,0,147.2-24.5,163.2-67.2c17.1-44.8,5.3-72.5-3.2-91.7c-6.4-13.9-7.5-18.1-2.1-30.9   c5.3-13.9,12.8-20.3,39.5-20.3c8.5,0,17.1,1.1,27.7,1.1c10.7,1.1,21.3,1.1,32,1.1c19.2,0,77.9,0,100.3-68.3   c13.9-44.8,6.4-89.6-24.5-131.2C681.6,186.7,538.7,128,394.7,128C188.8,128,21.3,246.4,21.3,391.5   C21.3,587.7,248.5,676.3,410.7,676.3z M394.7,192c120.5,0,247.5,50.1,295.5,116.3c18.1,24.5,23.5,50.1,14.9,73.6   c-4.3,17.1-11.7,23.5-38.4,23.5c-8.5,0-17.1-1.1-26.7-1.1c-10.7-1.1-21.3-1.1-32-1.1c-18.1,0-73.6,0-98.1,59.7   c-16,38.4-4.3,64,3.2,81.1c6.4,14.9,9.6,22.4,2.1,42.7c-3.2,8.5-34.1,26.7-104.5,26.7C275.2,612.3,85.3,544,85.3,391.5   C85.3,281.6,224,192,394.7,192z"/>
                                <path d="M325.3,432c0,46.9,38.4,85.3,85.3,85.3S496,478.9,496,432s-38.4-85.3-85.3-85.3S325.3,385.1,325.3,432z M410.7,410.7   c11.7,0,21.3,9.6,21.3,21.3c0,11.7-9.6,21.3-21.3,21.3c-11.7,0-21.3-9.6-21.3-21.3C389.3,420.3,398.9,410.7,410.7,410.7z"/>
                                <path d="M247.5,484.3c-6.4-33.1-28.8-37.3-38.4-37.3c-2.1,0-4.3,0-6.4,1.1c-19.2,3.2-35.2,19.2-37.3,38.4   c-3.2,17.1,5.3,33.1,20.3,40.5c9.6,5.3,20.3,7.5,29.9,7.5c13.9,0,25.6-6.4,32-17.1C251.7,507.7,251.7,496,247.5,484.3L247.5,484.3z   "/>
                                <path d="M165.3,424.5c2.1-1.1,3.2-1.1,4.3-2.1c25.6-6.4,28.8-24.5,29.9-33.1c2.1-25.6-21.3-35.2-32-39.5l-1.1-1.1   c-5.3-2.1-10.7-3.2-16-3.2c-14.9,0-27.7,7.5-35.2,20.3c-7.5,12.8-8.5,28.8-1.1,42.7c6.4,12.8,18.1,20.3,32,20.3   C154.7,428.8,161.1,425.6,165.3,424.5z"/>
                                <path d="M215.5,338.1c10.7,0,19.2-5.3,23.5-8.5c16-6.4,25.6-21.3,25.6-37.3c0-12.8-8.5-29.9-29.9-36.3   c-19.2-5.3-40.5,3.2-51.2,20.3c-7.5,12.8-7.5,28.8,0,42.7C194.1,337.1,210.1,338.1,215.5,338.1z"/>
                                <path d="M327.5,295.5c1.1,0,2.1,0,4.3,0c1.1,0,2.1,0,3.2,0c18.1,0,34.1-12.8,37.3-30.9c3.2-19.2-9.6-37.3-27.7-43.7   c-5.3-1.1-9.6-2.1-14.9-2.1c-18.1,0-38.4,12.8-39.5,40.5c0,9.6,3.2,18.1,9.6,25.6C309.3,295.5,322.1,295.5,327.5,295.5z"/>
                                <path d="M440.5,294.4c2.1,0,4.3,0,7.5-1.1c16,0,29.9-9.6,35.2-24.5c5.3-14.9,0-32-13.9-41.6c-7.5-5.3-16-8.5-24.5-8.5   c-20.3,0-37.3,14.9-39.5,36.3c-2.1,14.9,4.3,23.5,8.5,28.8C418.1,286.9,426.7,294.4,440.5,294.4z"/>
                                <path d="M546.1,323.2c4.3,2.1,9.6,3.2,14.9,3.2c14.9,0,28.8-10.7,33.1-25.6c5.3-18.1-3.2-38.4-19.2-48c-6.4-3.2-12.8-5.3-20.3-5.3   c-12.8,0-24.5,6.4-32,17.1c-6.4,9.6-8.5,23.5-4.3,34.1C524.8,316.8,539.7,321.1,546.1,323.2z"/>
                            </g>
                        </svg>
                    </div>
                    
                    <div class="tags" v-show="briefje.settingsMenu" @click="briefje.actieveSetting='tags'">
                        <svg class="icon-tags" enable-background="new 0 0 48 48" height="48px" version="1.1" viewBox="0 0 48 48" width="48px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <path clip-rule="evenodd" d="M43,40H5c-2.209,0-4-1.791-4-4V12c0-2.209,1.791-4,4-4h38c2.209,0,4,1.791,4,4v24  C47,38.209,45.209,40,43,40z M3,21h42v-4H3V21z M45,12c0-1.104-0.896-2-2-2H5c-1.104,0-2,0.896-2,2v3h42V12z M45,23H3v13  c0,1.104,0.896,2,2,2h38c1.104,0,2-0.896,2-2V23z M26,29h-4c-0.553,0-1-0.447-1-1c0-0.552,0.447-1,1-1h4c0.553,0,1,0.448,1,1  C27,28.553,26.553,29,26,29z M17,29H8c-0.553,0-1-0.447-1-1c0-0.552,0.447-1,1-1h9c0.553,0,1,0.448,1,1C18,28.553,17.553,29,17,29z   M8,32h6c0.553,0,1,0.448,1,1c0,0.553-0.447,1-1,1H8c-0.553,0-1-0.447-1-1C7,32.448,7.447,32,8,32z" fill-rule="evenodd"/>
                        </svg>
                    </div>
    
                    <div class="afbeelding" v-show="briefje.settingsMenu" @click="briefje.actieveSetting='afbeelding'">
                        <svg class="icon-image" enable-background="new 0 0 48 48" height="48px" version="1.1" viewBox="0 0 48 48" width="48px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <path clip-rule="evenodd" d="M43,41H5c-2.209,0-4-1.791-4-4V11c0-2.209,1.791-4,4-4h38c2.209,0,4,1.791,4,4v26  C47,39.209,45.209,41,43,41z M45,11c0-1.104-0.896-2-2-2H5c-1.104,0-2,0.896-2,2v26c0,1.104,0.896,2,2,2h38c1.104,0,2-0.896,2-2V11z   M41.334,34.715L35,28.381L31.381,32l3.334,3.334c0.381,0.381,0.381,0.999,0,1.381c-0.382,0.381-1,0.381-1.381,0L19,22.381  L6.666,34.715c-0.381,0.381-0.999,0.381-1.381,0c-0.381-0.382-0.381-1,0-1.381L18.19,20.429c0.032-0.048,0.053-0.101,0.095-0.144  c0.197-0.197,0.457-0.287,0.715-0.281c0.258-0.006,0.518,0.084,0.715,0.281c0.042,0.043,0.062,0.096,0.095,0.144L30,30.619  l4.19-4.19c0.033-0.047,0.053-0.101,0.095-0.144c0.197-0.196,0.457-0.287,0.715-0.281c0.258-0.006,0.518,0.085,0.715,0.281  c0.042,0.043,0.062,0.097,0.095,0.144l6.905,6.905c0.381,0.381,0.381,0.999,0,1.381C42.333,35.096,41.715,35.096,41.334,34.715z   M29,19c-2.209,0-4-1.791-4-4s1.791-4,4-4s4,1.791,4,4S31.209,19,29,19z M29,13c-1.104,0-2,0.896-2,2s0.896,2,2,2s2-0.896,2-2  S30.104,13,29,13z" fill-rule="evenodd"/>
                        </svg>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        const app = new Vue({
            el: '#app',
            data: {
                zoekenOpen: false,
                zoekTerm: "",
                toonArchief: false,
                toonBelangrijk: true,
                maanden: [],
                nieuwBriefje: {},
                briefjes: [],
                tagInput: "",
                tags: ["shopping", "medicatie", "verjaardag", "evenement", "dokter", "sociaal", "eten", "sport", "huisdier", "contact"],
                willekeurigeKleur: "hsl(0, 0%, 100%)",
                kleurenBriefje: [
                    {
                        naam: "geel",
                        strip: "hsl(60, 97%, 76%)",
                        briefje: "hsl(60, 100%, 77%)",
                        hoek: "hsl(60, 100%, 89%)",
                        rand: "hsl(0, 0%, 91%)"
                    },
                    {
                        naam: "blauw",
                        strip: "hsl(208, 59%, 67%)",
                        briefje: "hsl(210, 55%, 70%)",
                        hoek: "hsl(210, 100%, 81%)",
                        rand: "hsl(198, 100%, 81%)"
                    },
                    {
                        naam: "rood",
                        strip: "hsl(0, 94%, 65%)",
                        briefje: "hsl(0, 100%, 66%)",
                        hoek: "hsl(0, 100%, 74%)",
                        rand: "hsl(0, 100%, 81%)"
                    }
                ],
                kleurenTekst: ["hsl(0, 0%, 0%)", "hsl(0, 0%, 100%)"]
            },
            computed: {
                sorteerBriefjes() {
                    return this.filterBriefjes.sort((a, b) => b.belangrijk - a.belangrijk);
                },
                filterBriefjes() {
                    // Filteren op zoekcriteria (term, toon archief)
                    return this.briefjes.filter(b => {
                        // Filter gearchiveerde en belangrijke briefjes naargelang optie 
                        if (!this.toonArchief && b.status === "archief" ||
                            !this.toonBelangrijk && b.belangrijk) {
                            return false;
                        }

                        // Zoekterm moet minstens 3 karakters bevatten
                        if (this.zoekTerm.length <= 2) {
                            return this.briefjes;
                        }
                        
                        const zoekTerm = this.zoekTerm.toLowerCase();
                        // Filter op zoekterm, zoek in titel, inhoud en tags
                        return (b.titel.toLowerCase().includes(zoekTerm) ||
                                b.inhoud.toLowerCase().includes(zoekTerm)) ||
                                b.tags.find(t => t.toLowerCase().includes(zoekTerm));
                    });
                }
            },
            methods: {
                toggleSettings(briefje) {
                    if (briefje.actieveSetting) {
                        briefje.actieveSetting = "";
                    } else {
                        briefje.settingsMenu = !briefje.settingsMenu;
                    }                    
                },
                pinStyle(deg) {
                    return {
                        filter: `hue-rotate(${deg}deg)`
                    }
                },
                textAreaEnter(e) {
                    if (e.target.value.split("\n").length >= 3) {
                        e.preventDefault();           
                    }
                },
                getWillekeurigeKleur(transparency = 1) {
                    // Willekeurige HSLA kleur met CSS property
                    return `hsla(${this.getRandomGetal(0, 360)}, ${this.getRandomGetal(20, 80)}%, ${this.getRandomGetal(25, 75)}%, ${transparency})`;

                    // Willekeurige HEX kleur met CSS property
                    // return '#' + Math.random().toString(16).substring(2,8);
                },
                setWillekeurigeKleur(briefje) {
                    this.willekeurigeKleur = this.getWillekeurigeKleur();
                    briefje.kleurTekst = this.willekeurigeKleur;
                },
                setStijlBriefje(briefje) {
                    return {
                        backgroundImage: `linear-gradient(to bottom,
                                          ${briefje.kleurBriefje.strip} 0%,
                                          ${briefje.kleurBriefje.strip} 50px,
                                          transparent 51px),
                                          linear-gradient(135deg,
                                          ${briefje.kleurBriefje.briefje} 81%,
                                          ${briefje.kleurBriefje.hoek} 100%)`,
                        border:          `1px solid ${briefje.kleurBriefje.rand}`,
                        color:           briefje.kleurTekst,
                        '--placeholder-color':  briefje.kleurTekst
                    }
                },
                veranderHSL(hsl, hoeveelheid) {
                    const startIndex = hsl.indexOf(hsl.split(",")[2]) + 1;
                    const endIndex = hsl.lastIndexOf("%");                    
                    const nieuweHelderheid = Number(hsl.substring(startIndex, endIndex).trim()) + hoeveelheid;

                    return hsl.substring(0, startIndex) + nieuweHelderheid + hsl.slice(endIndex);     
                },
                getRandomGetal(min, max) {
                    // Genereer willekeurig getal tussen min en max, inclusief min, exclusief max
                    return Math.floor(Math.random() * (max - min) + 1) + min;
                },
                getDagenInMaand(maand) {
                    return new Date(2018, maand + 1, 0).getDate();
                },
                datumInWelkJaar(dag, maand) {
                    // Is gekozen dag en maand al voorbij in dit jaar?
                    const vandaag = new Date();
                    
                    if (vandaag <= new Date(vandaag.getFullYear(), maand, dag)) {                       
                        return vandaag.getFullYear();
                    } else {
                        return vandaag.getFullYear() + 1;
                    }
                },
                tagToevoegen(e, briefje) {
                    briefje.tags.push(e.target.value);
                    e.target.value = "";
                },
                tagVerwijderen(briefje, tag, index) {
                    briefje.tags.splice(briefje.tags.indexOf(tag), 1);
                    if (briefje === this.nieuwBriefje) {
                        this.$refs.tagInputNieuwBriefje.focus();
                    }
                    else {
                        this.$refs.tagInputBriefje[index].focus();
                    }
                },
                verwerkTagInput(e, briefje) {
                    switch(e.key) {
                        case "Tab":
                        case "Enter":
                            e.preventDefault();
                            briefje.tags.push(e.target.value);
                            e.target.value = "";
                            break;
                        case ",":
                            e.preventDefault();                           
                            briefje.tags.push(e.target.value.substring(0, e.target.selectionStart));
                            e.target.value = "";
                            break;
                        case "Backspace":
                            if (e.target.selectionStart === 0) {
                                briefje.tags.pop();
                            }
                            break;
                        case "ArrowLeft":
                        case "ArrowRight":
                        case "Delete":
                            break;
                        default:
                            // Kleine delay voor uitvoeren autocomplete code,
                            // keydown event kent nieuwe waarde anders nog niet
                            setTimeout(() => {
                                const tekst = e.target.value;
                                if (tekst) {
                                    const woord = this.tags.find((tag) => tag.startsWith(tekst));

                                    if (woord) {
                                        e.target.value = woord;
                                        e.target.setSelectionRange(tekst.length, woord.length);
                                    }
                                }
                            }, 10);                               
                            break;
                    }
                },
                afbeeldingToevoegen(e, briefje) {
                    if (e.target.files && e.target.files[0]) {
                        const reader = new FileReader();

                        
                        reader.onload = (e) => {                           
                            this.nieuwBriefje.afbeelding = e.target.result;
                        };

                        reader.readAsDataURL(e.target.files[0]);
                    } else {
                        this.nieuwBriefje.afbeelding = "";
                    }
                },
                verwerkActie(briefje) {
                    switch(briefje.status) {
                        case "":
                            briefje.status = "nieuw";
                            briefje.actieveSetting = "";
                            briefje.settingsMenu = false;
                            briefje.kleurModus = false;
                            if (this.briefjes.length > 0)
                                briefje.id = this.briefjes[this.briefjes.length - 1].id + 1;
                            else
                                briefje.id = 1;
                            this.briefjes.push({...briefje});
                            this.resetNieuwBriefje();
                            break;
                        case "nieuw":
                            briefje.status = "archief";
                            break;
                        case "archief":
                            this.briefjes.splice(this.briefjes.indexOf(briefje), 1);
                            break;
                    }
                },
                resetNieuwBriefje() {
                    this.nieuwBriefje = {
                        id: 0,
                        titel: "",
                        datum: {
                            dag: new Date().getDate(),
                            maand: new Date().getMonth()
                        },
                        inhoud: "",
                        tags: [],
                        kleurPin: 0,
                        kleurBriefje: {
                            naam: "geel",
                            strip: "hsl(60, 97%, 76%)",
                            briefje: "hsl(60, 100%, 77%)",
                            hoek: "hsl(60, 100%, 89%)",
                            rand: "hsl(0, 0%, 91%)"
                        },
                        kleurTekst: "hsl(0, 0%, 0%)",
                        kleurModus: false,
                        settingsMenu: false,
                        belangrijk: false,
                        afbeelding: "",
                        status: "",
                        actieveSetting: "",
                    }
                },
                opslaanInLocalStorage() {
                    localStorage.setItem("briefjes", JSON.stringify(this.briefjes));
                },
                ladenVanLocalStorage() {
                    // Laad briefjes uit LocalStorage en zet de string om naar JSON
                    this.briefjes = JSON.parse(localStorage.getItem("briefjes"));

                    // Zet de tijdelijke menu-eigenschappen terug op standaardwaardes
                    this.briefjes.forEach(b => {
                        Object.assign(b, {
                            kleurModus: false,
                            settingsMenu: false,
                            actieveSetting: ""
                        });
                    });
                }
            },
            watch: {
                // Deep watcher voor alle veranderingen aan object en kindeigenschappen op te vangen
                briefjes: {
                    handler: function(val, oldVal) {                        
                        this.opslaanInLocalStorage();
                    },
                    deep: true
                }
            },
            created() {
                // Genereer lijst van maanden naargelang Locale               
                for (let i = 0; i <= 11; i++) {
                    const maand = new Date(2018, i).toLocaleDateString("nl-BE", {month: "long"});

                    this.maanden.push({
                        volgorde: i,
                        naam: maand[0].toUpperCase() + maand.slice(1)
                    });                    
                }

                this.resetNieuwBriefje();

                // Laad briefjes uit LocalStorage
                this.ladenVanLocalStorage();
            }
        });    
    </script>
</body>
</html>